alloys_expenditure_decisions = {
	resource = alloys
	type = expenditure
	category = decisions
	potential = {
		OR = {
			has_technology = tech_habitat_2
			has_technology = tech_mega_engineering
		}
		any_owned_planet = {
			OR = {
				AND = {
					is_planet_class = pc_habitat
					NOT = { has_planet_flag = advanced_habitat }
					root = { has_technology = tech_habitat_2 }
				}
				AND = {
					is_planet_class = pc_habitat
					NOT = { has_planet_flag = advanced_habitat_2 }
					root = { has_technology = tech_habitat_3 }
				}
				AND = {
					is_planet_class = pc_shattered_ring_habitable
					num_uncleared_blockers < 1
					root = { has_technology = tech_mega_engineering }
				}
			}
		}
		# only consider these kinds of decisions when "wealthy" or VD
		OR = {
			AND = {
				exists = owner
				owner = { has_origin = origin_void_dwellers }
			}
			has_resource = {
				type = alloys
				amount > 5000
			}
		}
	}
	weight = {
		weight = 0.20
		modifier = {
			factor = 2.5
			has_origin = origin_void_dwellers
		}
		modifier = {
			factor = 2
			has_origin = origin_void_dwellers
			count_owned_planet = {
				limit = { 
					is_planet_class = pc_habitat 
					has_planet_flag = advanced_habitat
				}
				count < 4
			}
		}
		modifier = {
			factor = 2
			has_origin = origin_void_dwellers
			count_owned_planet = {
				limit = { 
					is_planet_class = pc_habitat 
					has_planet_flag = advanced_habitat
				}
				count < 6
			}
		}
		modifier = {
			factor = 4
			has_origin = origin_void_dwellers
			mid_game_years_passed > 0
			count_owned_planet = {
				limit = { 
					is_planet_class = pc_habitat 
					has_planet_flag = advanced_habitat_2
				}
				count < 6
			}
		}
		modifier = {
			factor = 2
			mid_game_years_passed > 0
			count_owned_planet = {
				limit = { 
					is_planet_class = pc_habitat 
					NOT = {
						has_planet_flag = advanced_habitat_2
					}
				}
				count > 2
			}
		}
	}
	# based on habitat / restore ring
	desired_max = {
		base = 2000
		modifier = {
			add = 1000
			has_technology = tech_habitat_3
			any_owned_planet = {
				has_planet_flag = advanced_habitat
				NOT = { has_planet_flag = advanced_habitat_2 }
			}
		}
		modifier = {
			add = 8000
			has_technology = tech_mega_engineering
			any_owned_planet = {
				is_planet_class = pc_shattered_ring_habitable
				num_uncleared_blockers < 1
			}
		}
	}
}
