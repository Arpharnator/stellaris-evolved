

# Base automation
# ------------------------------------------------------------
tec_automated_production = {
	base = 0
	[[!BASE_VALUE] 
		add = $BASE$
	]
	[[BASE_VALUE]
		add = value:$BASE_VALUE$|BASE|$BASE$|
	]

	complex_trigger_modifier = {
		trigger = check_modifier_value
		parameters = {
			modifier = $ECO_CAT$_$RESOURCE$_produces_add
		}
		mode = add
	}
	[[REQUISITON]][[REQUISITION_AMOUNT]]
	# Disabling since overlord resrources does not work in buildings and districts for now
	# [[REQUISITON]
	# 	modifier = {
	# 		add = $REQUISITION_AMOUNT$
	# 		has_planet_flag = $REQUISITON$
	# 	}
	# ]
	mult = value:tec_automated_mult_production|ECO_CAT|$ECO_CAT$|RESOURCE|$RESOURCE$|
}

tec_automated_mult_production = {
	base = 1
	complex_trigger_modifier = {
		trigger = check_modifier_value
		parameters = {
			modifier = $ECO_CAT$_$RESOURCE$_produces_mult
		}
		mode = add
	}
	complex_trigger_modifier = {
		trigger = check_modifier_value
		parameters = {
			modifier = $ECO_CAT$_produces_mult
		}
		mode = add
	}
	complex_trigger_modifier = {
		trigger = check_modifier_value
		parameters = {
			modifier = planet_jobs_productive_$RESOURCE$_produces_mult
		}
		mode = add
	}
	complex_trigger_modifier = {
		trigger = check_modifier_value
		parameters = {
			modifier = planet_jobs_productive_produces_mult
		}
		mode = add
	}

	complex_trigger_modifier = {
		trigger = check_modifier_value
		parameters = {
			modifier = planet_jobs_$RESOURCE$_produces_mult
		}
		mode = add
	}
	complex_trigger_modifier = {
		trigger = check_modifier_value
		parameters = {
			modifier = planet_jobs_produces_mult
		}
		mode = add
	}
}

# Habitats
# ------------------------------------------------------------
tec_habitat_base_production = {
	base = $BASE$

	modifier = {
		planet = {
			tec_is_upgraded_habitat = yes
		}
		add = 2
	}

	modifier = {
		planet = {
			tec_is_fully_upgraded_habitat = yes
		}
		add = 2
	}
}

tec_machine_angler_extractor_base_production = {
	base = $BASE$
	modifier = {
		planet = {
			has_modifier = pm_tec_desiccation_1
		}
		add = 1
	}
	modifier = {
		planet = {
			has_modifier = pm_tec_desiccation_2
		}
		add = 2
	}
	modifier = {
		planet = {
			has_modifier = pm_tec_desiccation_3
		}
		add = 3
	}
}

tec_machine_angler_nexus_base_production = {
	base = 0
	add = owner.tec_desiccated_worlds
	mult = 4
	add = $BASE$
}


# Deprecated

tec_automated_district_production = {
	base = 0
	# Use new value name
	add = value:tec_automated_production|BASE|$BASE$|[[BASE_VALUE]BASE_VALUE|$BASE_VALUE$|]ECO_CAT|$ECO_CAT$|RESOURCE|$RESOURCE$|[[REQUISITON]REQUISITON|$REQUISITON$|REQUISITION_AMOUNT|$REQUISITION_AMOUNT$|]
}