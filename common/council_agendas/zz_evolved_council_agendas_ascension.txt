# common\council_agendas\zz_evolved_council_agendas_ascension.txt

@tec_ascension_agenda_cost = 2500

# Genetics
agenda_tec_genetic_recombination = {
	agenda_cost = @tec_ascension_agenda_cost
	potential = {
		has_country_flag = tec_unlocked_genetic_recombination
		NOT = {
			has_country_flag = agenda_tec_genetic_recombination_cd
		}
	}

	allow = {
		custom_tooltip = {
			fail_text = "tec_agenda_require_no_active_recombination"
			NOT = {
				country_has_situation = {
					SITUATION = situation_tec_ascension_genetic_recombination
				}
			}
		}
	}
	modifier = {
		planet_tec_gene_recombinators_unity_produces_add = 1
	}
	finish_modifier = modifier_tec_agenda_tec_genetic_recombination

	effect = {
		if = {
			limit = {
				hidden_trigger = {
					is_gestalt = yes
				}
			}
			custom_tooltip = council_agenda_agenda_tec_genetic_recombination_gestalt_tooltip
		}
		else = {
			custom_tooltip = council_agenda_agenda_tec_genetic_recombination_regular_tooltip
		}
		hidden_effect = {
			hidden_effect = {
				country_event = {
					id = tec_gene_path.300
				}
			}
		}
	}
}


agenda_tec_genetic_recombination_2 = {
	agenda_cost = @tec_ascension_agenda_cost
	potential = {
		has_country_flag = tec_unlocked_genetic_recombination
		has_country_flag = agenda_tec_genetic_recombination_cd
	}

	allow = {
		custom_tooltip = {
			fail_text = "tec_agenda_require_no_active_recombination"
			NOT = {
				country_has_situation = {
					SITUATION = situation_tec_ascension_genetic_recombination
				}
			}
		}
	}
	modifier = {
		planet_tec_gene_recombinators_unity_produces_add = 1
	}
	finish_modifier = modifier_tec_agenda_tec_genetic_recombination

	effect = {
		if = {
			limit = {
				hidden_trigger = {
					is_gestalt = yes
				}
			}
			custom_tooltip = council_agenda_agenda_tec_genetic_recombination_gestalt_tooltip
		}
		else = {
			custom_tooltip = council_agenda_agenda_tec_genetic_recombination_regular_tooltip
		}
		hidden_effect = {
			hidden_effect = {
				country_event = {
					id = tec_gene_path.300
				}
			}
		}
	}
}