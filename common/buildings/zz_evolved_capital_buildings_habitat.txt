# common\buildings\zz_evolved_capital_buildings_habitat.txt

# - - - - - - - - - - - - - - - - - - - - - 
# Habitat capitals - Regular
# - - - - - - - - - - - - - - - - - - - - - 
# ------------------------------------------------- Standard
	building_hab_capital = { # Habitat Administration
		capital = yes
		can_build = no
		can_demolish = no
		can_be_ruined = no
		can_be_disabled = no
		position_priority = 0		# Capital

		icon = building_capital

		category = government

		upgrades = {
			"building_hab_major_capital"
		}

		potential = {
			exists = owner
			owner = {
				tec_has_regular_capital = yes
			}
			uses_habitat_capitals = yes
		}

		inline_script = buildings/convert_to/inline_evolved_capital_t2

		resources = {
			category = planet_buildings_hab_capital
			upkeep = {
				energy = 3
				alloys = 5
			}
			inline_script = capitals/resources/inline_evolved_domination_adopt_void
			inline_script = capitals/resources/inline_evolved_synth_assembly_upkeep
		}


		inline_script = {
			script = capitals/inline_evolved_common_habitat_modifiers
			tier = hab1
		}
		inline_script = capitals/inline_evolved_colony_habitat

		inline_script = {
			script = capitals/inline_evolved_regular_capital
			tier = hab1
			ruler_trigger = ""
			# Note: Colonists for vd were removed in
			# Caelum
		}

		inline_script = {
			script = capitals/special_ruler_features/inline_evolved_toxic_knights_feature
			tier = hab1
		}

		triggered_desc = {
			text = building_tec_capital_habitat_tag
		}
		triggered_desc = {
			text = building_tec_capital_tier_2_tag
		}
	}

	building_hab_major_capital = { # Habitat Central Complex
		base_buildtime = @b2_time
		capital = yes
		can_build = no
		can_demolish = no
		can_be_ruined = no
		can_be_disabled = no
		position_priority = 0		# Capital

		icon = building_major_capital

		ai_estimate_without_unemployment = yes

		category = government

		upgrades = {
			"building_hab_system_capital"
		}

		prerequisites = {
			"tech_habitat_2"
		}

		potential = {
			uses_habitat_capitals = yes
			exists = owner
			owner = {
				tec_has_regular_capital = yes
			}
		}

		allow = {
			num_pops >= @pops_t2
		}

		inline_script = buildings/convert_to/inline_evolved_capital_t3

		resources = {
			category = planet_buildings_hab_capital
			upkeep = {
				alloys = 5
			}
			inline_script = capitals/resources/inline_evolved_domination_adopt_void
			inline_script = {
				script = buildings/resources/inline_evolved_resource_cost
				tier = 2
			}
			inline_script = capitals/resources/inline_evolved_synth_assembly_upkeep
		}

		inline_script = {
			script = capitals/inline_evolved_common_habitat_modifiers
			tier = hab2
		}

		inline_script = {
			script = capitals/inline_evolved_regular_capital
			tier = hab2
			ruler_trigger = ""
		}

		inline_script = {
			script = capitals/special_ruler_features/inline_evolved_toxic_knights_feature
			tier = hab2
		}

		inline_script = {
			script = buildings/inline_evolved_aibait_essential
			trigger = ""
		}

		triggered_desc = {
			text = building_tec_capital_habitat_tag
		}
		triggered_desc = {
			text = building_tec_capital_tier_3_tag
		}
	}

	building_hab_system_capital = { # Habitat System Complex
		base_buildtime = @b3_time
		capital = yes
		can_build = no
		can_demolish = no
		can_be_ruined = no
		can_be_disabled = no
		position_priority = 0		# Capital

		ai_estimate_without_unemployment = yes

		icon = building_system_capital

		category = government

		prerequisites = {
			tech_habitat_3
		}

		show_tech_unlock_if = {
			tec_has_regular_capital = yes
		}

		potential = {
			uses_habitat_capitals = yes
			exists = owner
			owner = {
				tec_has_regular_capital = yes
			}
		}

		inline_script = buildings/convert_to/inline_evolved_capital_t4

		allow = {
			num_pops >= @pops_t3
		}

		resources = {
			category = planet_buildings_hab_capital
			upkeep = {
				alloys = 5
			}
			inline_script = capitals/resources/inline_evolved_domination_adopt_void
			inline_script = {
				script = buildings/resources/inline_evolved_resource_cost
				tier = 3
			}
			inline_script = capitals/resources/inline_evolved_synth_assembly_upkeep
		}

		inline_script = {
			script = capitals/inline_evolved_common_habitat_modifiers
			tier = hab3
		}

		inline_script = {
			script = capitals/inline_evolved_regular_capital
			tier = hab3
			ruler_trigger = ""
		}

		inline_script = {
			script = capitals/special_ruler_features/inline_evolved_toxic_knights_feature
			tier = hab3
		}

	inline_script = {
		script = buildings/inline_evolved_aibait_essential
		trigger = ""
	}

		triggered_desc = {
			text = building_tec_capital_habitat_tag
		}
		triggered_desc = {
			text = building_tec_capital_tier_4_tag
		}
	}

	#building_hab_galactic_capital

# - - - - - - - - - - - - - - - - - - - - - 
# Habitat capitals - Hive
# - - - - - - - - - - - - - - - - - - - - - 
# ------------------------------------------------- Regular
	building_tec_hab_hive_capital = { # Habitat Control Node
		capital = yes
		can_build = no
		can_demolish = no
		can_be_ruined = no
		can_be_disabled = no
		position_priority = 0		# Capital

		icon = building_hive_capital

		category = government

		upgrades = {
			"building_tec_hab_hive_major_capital"
		}

		potential = {
			uses_habitat_capitals = yes
			exists = owner
			owner = {
				tec_has_hive_capital_normal = yes
			}
		}

		inline_script = buildings/convert_to/inline_evolved_capital_t2

		resources = {
			category = planet_buildings_hab_capital
			upkeep = {
				energy = 3
				alloys = 5
			}
			inline_script = capitals/resources/inline_evolved_domination_adopt_void
		}

		inline_script = capitals/inline_evolved_colony_habitat

		inline_script = {
			script = capitals/inline_evolved_common_habitat_modifiers
			tier = hab1
		}
		inline_script = {
			script = capitals/inline_evolved_hive_capital
			synapse = tec_resonance_drone
			tier = hab1
		}

		triggered_desc = {
			text = building_tec_capital_habitat_tag
		}
		triggered_desc = {
			text = building_tec_capital_tier_2_tag
		}
	}

	building_tec_hab_hive_major_capital = { # Habitat Central Complex
		base_buildtime = @b2_time
		capital = yes
		can_build = no
		can_demolish = no
		can_be_ruined = no
		can_be_disabled = no
		position_priority = 0		# Capital

		ai_estimate_without_unemployment = yes

		icon = building_hive_major_capital

		category = government

		upgrades = {
			"building_tec_hab_hive_system_capital"
		}

		prerequisites = {
			"tech_habitat_2"
		}

		potential = {
			uses_habitat_capitals = yes
			exists = owner
			owner = {
				tec_has_hive_capital_normal = yes
			}
		}

		allow = {
			num_pops >= @pops_t2
		}

		inline_script = buildings/convert_to/inline_evolved_capital_t3

		resources = {
			category = planet_buildings_hab_capital
			upkeep = {
				alloys = 5
			}
			inline_script = capitals/resources/inline_evolved_domination_adopt_void
			inline_script = {
				script = buildings/resources/inline_evolved_resource_cost
				tier = 2
			}
		}

		inline_script = {
			script = capitals/inline_evolved_common_habitat_modifiers
			tier = hab2
		}

		inline_script = {
			script = capitals/inline_evolved_hive_capital
			synapse = tec_resonance_drone
			tier = hab2
		}

	inline_script = {
		script = buildings/inline_evolved_aibait_essential
		trigger = ""
	}

		triggered_desc = {
			text = building_tec_capital_habitat_tag
		}
		triggered_desc = {
			text = building_tec_capital_tier_3_tag
		}
	}

	building_tec_hab_hive_system_capital = { # Habitat System Complex
		base_buildtime = @b3_time
		capital = yes
		can_build = no
		can_demolish = no
		can_be_ruined = no
		can_be_disabled = no
		position_priority = 0		# Capital

		ai_estimate_without_unemployment = yes

		icon = building_hive_system_capital

		category = government

		prerequisites = {
			tech_habitat_3
		}

		show_tech_unlock_if = {
			tec_has_hive_capital_normal = yes
		}

		potential = {
			uses_habitat_capitals = yes
			exists = owner
			owner = {
				tec_has_hive_capital_normal = yes
			}
		}

		inline_script = buildings/convert_to/inline_evolved_capital_t4

		allow = {
			num_pops >= @pops_t3
		}

		resources = {
			category = planet_buildings_hab_capital
			upkeep = {
				alloys = 5
			}
			inline_script = capitals/resources/inline_evolved_domination_adopt_void
			inline_script = {
				script = buildings/resources/inline_evolved_resource_cost
				tier = 3
			}
		}

		inline_script = {
			script = capitals/inline_evolved_common_habitat_modifiers
			tier = hab3
		}

		inline_script = {
			script = capitals/inline_evolved_hive_capital
			synapse = tec_resonance_drone
			tier = hab3
		}

		inline_script = {
			script = buildings/inline_evolved_aibait_essential
			trigger = ""
		}

		triggered_desc = {
			text = building_tec_capital_habitat_tag
		}
		triggered_desc = {
			text = building_tec_capital_tier_4_tag
		}
	}

	#building_tec_hab_hive_capital_4

# ------------------------------------------------- Biohive
	building_tec_hab_biohive_capital = { # Habitat Control Organ
		capital = yes
		can_build = no
		can_demolish = no
		can_be_ruined = no
		can_be_disabled = no
		position_priority = 0		# Capital

		icon = building_tec_biohive_capital

		category = government

		upgrades = {
			"building_hab_major_capital"
		}

		potential = {
			uses_habitat_capitals = yes
			exists = owner
			owner = {
				tec_has_hive_capital_biohive = yes
			}
		}

		inline_script = buildings/convert_to/inline_evolved_capital_t2

		resources = {
			category = planet_buildings_hab_capital
			upkeep = {
				energy = 3
				alloys = 5
			}
			inline_script = capitals/resources/inline_evolved_domination_adopt_void
		}

		planet_modifier = {
			planet_pop_assembly_organic_add = 2
		}

		inline_script = {
			script = capitals/inline_evolved_common_habitat_modifiers
			tier = hab1
		}

		inline_script = capitals/inline_evolved_colony_habitat

		inline_script = {
			script = capitals/inline_evolved_hive_capital
			synapse = synapse_drone
			tier = hab1
		}

		triggered_desc = {
			text = building_tec_capital_habitat_tag
		}
		triggered_desc = {
			text = building_tec_capital_tier_2_tag
		}
	}

	building_tec_hab_biohive_major_capital = { # Habitat Central Organ
		base_buildtime = @b2_time
		capital = yes
		can_build = no
		can_demolish = no
		can_be_ruined = no
		can_be_disabled = no
		position_priority = 0		# Capital

		ai_estimate_without_unemployment = yes

		icon = building_tec_biohive_major_capital

		category = government

		upgrades = {
			"building_tec_hab_biohive_system_capital"
		}

		prerequisites = {
			"tech_habitat_2"
		}

		potential = {
			uses_habitat_capitals = yes
			exists = owner
			owner = {
				tec_has_hive_capital_biohive = yes
			}
		}

		allow = {
			num_pops >= @pops_t2
		}

		inline_script = buildings/convert_to/inline_evolved_capital_t3

		resources = {
			category = planet_buildings_hab_capital
			upkeep = {
				alloys = 5
			}
			inline_script = capitals/resources/inline_evolved_domination_adopt_void
			inline_script = {
				script = buildings/resources/inline_evolved_resource_cost
				tier = 2
			}
		}

		planet_modifier = {
			planet_pop_assembly_organic_add = 2
		}

		inline_script = {
			script = capitals/inline_evolved_common_habitat_modifiers
			tier = hab2
		}

		inline_script = {
			script = capitals/inline_evolved_hive_capital
			synapse = synapse_drone
			tier = hab2
		}

	inline_script = {
		script = buildings/inline_evolved_aibait_essential
		trigger = ""
	}

		triggered_desc = {
			text = building_tec_capital_habitat_tag
		}
		triggered_desc = {
			text = building_tec_capital_tier_3_tag
		}
	}

	building_tec_hab_biohive_system_capital = { # Habitat System Organ
		base_buildtime = @b3_time
		capital = yes
		can_build = no
		can_demolish = no
		can_be_ruined = no
		can_be_disabled = no
		position_priority = 0		# Capital

		ai_estimate_without_unemployment = yes

		icon = building_tec_biohive_system_capital

		category = government

		prerequisites = {
			tech_habitat_3
		}

		show_tech_unlock_if = {
			tec_has_hive_capital_biohive = yes
		}

		potential = {
			uses_habitat_capitals = yes
			exists = owner
			owner = {
				tec_has_hive_capital_biohive = yes
			}
		}

		inline_script = buildings/convert_to/inline_evolved_capital_t4

		allow = {
			num_pops >= @pops_t3
			
		}

		resources = {
			category = planet_buildings_hab_capital
			upkeep = {
				alloys = 5
			}
			inline_script = capitals/resources/inline_evolved_domination_adopt_void
			inline_script = {
				script = buildings/resources/inline_evolved_resource_cost
				tier = 3
			}
		}


		planet_modifier = {
			planet_pop_assembly_organic_add = 2
		}

		inline_script = {
			script = capitals/inline_evolved_common_habitat_modifiers
			tier = hab3
		}

		inline_script = {
			script = capitals/inline_evolved_hive_capital
			synapse = synapse_drone
			tier = hab3
		}

		inline_script = {
			script = buildings/inline_evolved_aibait_essential
			trigger = ""
		}

		triggered_desc = {
			text = building_tec_capital_habitat_tag
		}
		triggered_desc = {
			text = building_tec_capital_tier_4_tag
		}
	}

	#building_tec_hab_biohive_capital_4

# ------------------------------------------------- Cyberhive
	building_tec_hab_cyberhive_capital = { # Habitat Control Post
		capital = yes
		can_build = no
		can_demolish = no
		can_be_ruined = no
		can_be_disabled = no
		position_priority = 0		# Capital

		icon = building_machine_capital	# WIP

		category = government

		upgrades = {
			"building_tec_hab_cyberhive_major_capital"
		}

		potential = {
			uses_habitat_capitals = yes
			exists = owner
			owner = {
				tec_has_hive_capital_cyberhive = yes
			}
		}

		inline_script = buildings/convert_to/inline_evolved_capital_t2

		resources = {
			category = planet_buildings_hab_capital
			upkeep = {
				energy = 3
				alloys = 5
			}
			inline_script = capitals/resources/inline_evolved_domination_adopt_void
		}


		inline_script = {
			script = capitals/inline_evolved_common_habitat_modifiers
			tier = hab1
		}

		inline_script = capitals/inline_evolved_colony_habitat

		inline_script = {
			script = capitals/inline_evolved_hive_capital
			synapse = tec_network_drone
			tier = hab1
		}

		triggered_desc = {
			text = building_tec_capital_habitat_tag
		}
		triggered_desc = {
			text = building_tec_capital_tier_2_tag
		}
	}

	building_tec_hab_cyberhive_major_capital = { # Habitat Central Post
		base_buildtime = @b2_time
		capital = yes
		can_build = no
		can_demolish = no
		can_be_ruined = no
		can_be_disabled = no
		position_priority = 0		# Capital

		ai_estimate_without_unemployment = yes

		icon = building_machine_major_capital	# WIP

		category = government

		upgrades = {
			"building_tec_hab_cyberhive_system_capital"
		}

		prerequisites = {
			"tech_habitat_2"
		}

		potential = {
			uses_habitat_capitals = yes
			exists = owner
			owner = {
				tec_has_hive_capital_cyberhive = yes
			}
		}

		allow = {
			num_pops >= @pops_t2
		}

		inline_script = buildings/convert_to/inline_evolved_capital_t3

		resources = {
			category = planet_buildings_hab_capital

			upkeep = {
				alloys = 5
			}
			inline_script = capitals/resources/inline_evolved_domination_adopt_void
			inline_script = {
				script = buildings/resources/inline_evolved_resource_cost
				tier = 2
			}
		}

		inline_script = {
			script = capitals/inline_evolved_common_habitat_modifiers
			tier = hab2
		}

		inline_script = {
			script = capitals/inline_evolved_hive_capital
			synapse = tec_network_drone
			tier = hab2
		}

		inline_script = {
			script = buildings/inline_evolved_aibait_essential
			trigger = ""
		}

		triggered_desc = {
			text = building_tec_capital_habitat_tag
		}
		triggered_desc = {
			text = building_tec_capital_tier_3_tag
		}
	}

	building_tec_hab_cyberhive_system_capital = { # Habitat System Post
		base_buildtime = @b3_time
		capital = yes
		can_build = no
		can_demolish = no
		can_be_ruined = no
		can_be_disabled = no
		position_priority = 0		# Capital

		ai_estimate_without_unemployment = yes

		icon = building_machine_system_capital	# WIP

		category = government

		prerequisites = {
			tech_habitat_3
		}

		show_tech_unlock_if = {
			tec_is_cyberhive = yes
		}

		potential = {
			uses_habitat_capitals = yes
			exists = owner
			owner = {
				tec_has_hive_capital_cyberhive = yes
			}
		}

		inline_script = buildings/convert_to/inline_evolved_capital_t4

		allow = {
			num_pops >= @pops_t3
			
		}

		resources = {
			category = planet_buildings_hab_capital
			upkeep = {
				alloys = 5
			}
			inline_script = capitals/resources/inline_evolved_domination_adopt_void
			inline_script = {
				script = buildings/resources/inline_evolved_resource_cost
				tier = 3
			}
		}

		inline_script = {
			script = capitals/inline_evolved_common_habitat_modifiers
			tier = hab3
		}

		inline_script = {
			script = capitals/inline_evolved_hive_capital
			synapse = tec_network_drone
			tier = hab3
		}

	inline_script = {
		script = buildings/inline_evolved_aibait_essential
		trigger = ""
	}

		triggered_desc = {
			text = building_tec_capital_habitat_tag
		}
		triggered_desc = {
			text = building_tec_capital_tier_4_tag
		}
	}

	#building_tec_hab_cyberhive_capital_4

# - - - - - - - - - - - - - - - - - - - - - 
# Habitat capitals - Machine
# - - - - - - - - - - - - - - - - - - - - - 
	# Note: Machine special capitals are not available for habitats for balance reasons
	building_tec_hab_machine_capital = { # Habitat Control Processor
		capital = yes
		can_build = no
		can_demolish = no
		can_be_ruined = no
		can_be_disabled = no
		position_priority = 0		# Capital

		icon = building_machine_capital

		category = government

		upgrades = {
			"building_tec_hab_machine_major_capital"
		}

		potential = {
			uses_habitat_capitals = yes
			exists = owner
			owner = {
				tec_has_machine_capital = yes
			}
		}

		inline_script = buildings/convert_to/inline_evolved_capital_t2

		resources = {
			category = planet_buildings_hab_capital
			upkeep = {
				energy = 3
				alloys = 5
			}
			inline_script = capitals/resources/inline_evolved_domination_adopt_void
			inline_script = {
				script = capitals/resources/inline_evolved_machine_assembly_upkeep
				tier = hab1
			}
			inline_script = capitals/resources/inline_evolved_synth_assembly_upkeep
		}

		inline_script = {
			script = capitals/inline_evolved_common_habitat_modifiers
			tier = hab1
		}

		inline_script = capitals/inline_evolved_colony_habitat

		inline_script = {
			script = capitals/effects/inline_evolved_machine_assembly
			tier = hab1
		}

		inline_script = {
			script = capitals/inline_evolved_machine_capital
			tier = hab1
			ruler_trigger = ""
		}

		triggered_desc = {
			text = building_tec_capital_habitat_tag
		}
		triggered_desc = {
			text = building_tec_capital_tier_2_tag
		}
	}

	building_tec_hab_machine_major_capital = { # Habitat Central Processor
		base_buildtime = @b2_time
		capital = yes
		can_build = no
		can_demolish = no
		can_be_ruined = no
		can_be_disabled = no
		position_priority = 0		# Capital

		ai_estimate_without_unemployment = yes

		icon = building_machine_major_capital

		category = government

		upgrades = {
			"building_tec_hab_machine_system_capital"
		}

		prerequisites = {
			"tech_habitat_2"
		}

		potential = {
			uses_habitat_capitals = yes
			exists = owner
			owner = {
				tec_has_machine_capital = yes
			}
		}

		allow = {
			num_pops >= @pops_t2
		}

		inline_script = buildings/convert_to/inline_evolved_capital_t3

		resources = {
			category = planet_buildings_hab_capital
			upkeep = {
				alloys = 5
			}
			inline_script = capitals/resources/inline_evolved_domination_adopt_void
			inline_script = {
				script = buildings/resources/inline_evolved_resource_cost
				tier = 2
			}
			inline_script = {
				script = capitals/resources/inline_evolved_machine_assembly_upkeep
				tier = hab2
			}
			inline_script = capitals/resources/inline_evolved_synth_assembly_upkeep
		}

		inline_script = {
			script = capitals/inline_evolved_common_habitat_modifiers
			tier = hab2
		}

		inline_script = {
			script = capitals/effects/inline_evolved_machine_assembly
			tier = hab2
		}

		inline_script = {
			script = capitals/inline_evolved_machine_capital
			tier = hab2
			ruler_trigger = ""
		}

		inline_script = {
			script = buildings/inline_evolved_aibait_essential
			trigger = ""
		}

		triggered_desc = {
			text = building_tec_capital_habitat_tag
		}
		triggered_desc = {
			text = building_tec_capital_tier_3_tag
		}
	}

	building_tec_hab_machine_system_capital = { # Habitat System Processor
		base_buildtime = @b3_time
		capital = yes
		can_build = no
		can_demolish = no
		can_be_ruined = no
		can_be_disabled = no
		position_priority = 0		# Capital

		ai_estimate_without_unemployment = yes

		icon = building_machine_system_capital

		category = government

		prerequisites = {
			tech_habitat_3
		}

		show_tech_unlock_if = {
			tec_has_machine_capital = yes
		}

		potential = {
			uses_habitat_capitals = yes
			exists = owner
			owner = {
				tec_has_machine_capital = yes
			}
		}

		inline_script = buildings/convert_to/inline_evolved_capital_t4

		allow = {
			num_pops >= @pops_t3
			
		}

		resources = {
			category = planet_buildings_hab_capital
			upkeep = {
				alloys = 5
			}
			inline_script = capitals/resources/inline_evolved_domination_adopt_void
			inline_script = {
				script = buildings/resources/inline_evolved_resource_cost
				tier = 3
			}
			inline_script = {
				script = capitals/resources/inline_evolved_machine_assembly_upkeep
				tier = hab3
			}
			inline_script = capitals/resources/inline_evolved_synth_assembly_upkeep
		}

		inline_script = {
			script = capitals/inline_evolved_common_habitat_modifiers
			tier = hab3
		}

		inline_script = {
			script = capitals/effects/inline_evolved_machine_assembly
			tier = hab3
		}

		inline_script = {
			script = capitals/inline_evolved_machine_capital
			tier = hab3
			ruler_trigger = ""
		}

		inline_script = {
			script = buildings/inline_evolved_aibait_essential
			trigger = ""
		}

		triggered_desc = {
			text = building_tec_capital_habitat_tag
		}
		triggered_desc = {
			text = building_tec_capital_tier_4_tag
		}
	}
