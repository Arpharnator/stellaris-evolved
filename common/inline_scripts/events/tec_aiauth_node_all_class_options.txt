# events/tec_aiauth_node_all_class_options

inline_script = {
	script = tec_type_hint
	leader_scope = $target$
	country_event = $event_id$
	scripted_effect = $fragment_effect$
}

inline_script = {
	script = iterators/tec_iterate_leader_class
	code = "
		option = {
			name = tec_aiauth.class.$leader_class$
			inline_script = events/tec_aiauth_node_refragment_option
			custom_tooltip = tec_cui_aiauth_changing_class_refragment_node
			$target$ = {
				change_leader_class = $leader_class$
			}
			hidden_effect = {
				tec_country_cleanup_aiauth_fragment_class_flags = yes
				set_country_flag = tec_fragmenting_$leader_class$
				tec_country_refragment_aiauth_node = {
					fragment_effect = $fragment_effect$
					leader = $target$
				}
				$target$ = {
					kill_leader = { show_notification = no }
				}
				country_event = {
					id = $event_id$
				}
			}
		}
	"
}