# GENETICS TRADITION
# -----------------------------------------
# 1
# 2	  4
# 3	  5

tr_genetics_adopt = {
	possible = {
		custom_tooltip = {
			text = tec_blank
			has_country_flag = tec_gene_path_unlocked_tradition_1
		}
	}

	custom_tooltip = tr_genetics_adopt_tooltip
	modifier = {
		BIOLOGICAL_species_trait_points_add = 3
		BIOSERVANT_species_trait_points_add = 3
		REPLICANT_species_trait_points_add = 3
	}

	ai_weight = {
		factor = 1000
	}
}

tr_genetics_finish = {

	custom_tooltip = tr_genetics_finish_tooltip
	modifier = {
		BIOLOGICAL_species_trait_points_add = 3
		BIOSERVANT_species_trait_points_add = 3
		REPLICANT_species_trait_points_add = 3
		ascension_perks_add = 1
	}

	on_enabled = {
		# T2 Gate
		set_country_flag = tec_genetics_gate
		country_event = {
			id = tec_gene_path.200
			days = 360
		}
	}

	ai_weight = {
		factor = 1000
	}

	tradition_swap = {
		name = tr_genetics_finish_extra_traits
		inherit_icon = yes
		inherit_name = yes
		trigger = {
			has_genetic_dlc = yes
		}

		custom_tooltip = tr_genetics_finish_extra_traits_tooltip
		#tr_genetics_finish_extra_traits_modifier_desc
		modifier = {
			BIOLOGICAL_species_trait_points_add = 3
			BIOSERVANT_species_trait_points_add = 3
			REPLICANT_species_trait_points_add = 3
			ascension_perks_add = 1
		}

		on_enabled = {
			# T2 Gate
			set_country_flag = tec_genetics_gate
			country_event = {
				id = tec_gene_path.200
				days = 360
			}
		}
	}
}

tr_genetics_finish = {

	on_enabled = {
		hidden_effect = {
			country_event = { id = utopia.2703 }
		}
	}
	modifier = {
		ascension_perks_add = 1
		description = tr_genetics_finish_modifier_desc
		description_parameters = {
			POINTS = @ap_genetic_finisher_POINTS
		}
		BIOLOGICAL_species_trait_points_add = @ap_genetic_finisher_POINTS
	}

	tradition_swap = {
		name = tr_genetics_finish_extra_traits
		inherit_icon = yes
		inherit_name = yes
		trigger = {
			has_genetic_dlc = yes
		}

		on_enabled = {
			hidden_effect = {
				country_event = { id = utopia.2703 }
			}
		}

		modifier = {
			ascension_perks_add = 1
			description = tr_genetics_finish_extra_traits_modifier_desc
			description_parameters = {
				POINTS = @ap_genetic_finisher_POINTS
			}
			BIOLOGICAL_species_trait_points_add = @ap_genetic_finisher_POINTS
		}
	}
}

tr_genetics_resequencing = {

	on_enabled = {
		hidden_effect = {
			# Can add negative traits
			set_country_flag = can_add_negative_traits_organic
			# Can remove positive traits
			set_country_flag = can_remove_positive_traits_organic
		}
	}

	custom_tooltip = tr_genetics_resequencing_desc

	ai_weight = {
		factor = 1000
	}
}

tr_genetics_creation = {
	possible = {
		has_tradition = tr_genetics_resequencing
	}

	on_enabled = {
		hidden_effect = {
			# Can add advanced traits
			set_country_flag = can_add_advanced_traits
		}
	}
	custom_tooltip = tr_genetics_creation_desc

	ai_weight = {
		factor = 1000
	}
}

tr_genetics_enhanced_expression = {
	possible = {
		has_tradition = tr_genetics_creation
	}

	on_enabled = {
		hidden_effect = {
			# Can add advanced traits
			set_country_flag = can_add_advanced_traits
			# Can modify organic portraits
			set_country_flag = can_modify_organic_portraits
		}
	}

	custom_tooltip = tr_genetics_enhanced_expression_desc

	modifier = {
		BIOLOGICAL_species_trait_picks_add = 1
		BIOSERVANT_species_trait_picks_add = 1
		REPLICANT_species_trait_picks_add = 1
	}

	ai_weight = {
		factor = 1000
	}
}

tr_genetics_efficient_cloning = {
	
	ai_weight = {
		factor = 1000
	}
	custom_tooltip = tr_genetics_efficient_cloning_desc
}

tr_genetics_retrovirus = {
	possible = {
		has_tradition = tr_genetics_efficient_cloning
	}

	modifier = {
		MODIFY_SPECIES_COST_MULT = -0.5
	}

	ai_weight = {
		factor = 1000
	}
}

