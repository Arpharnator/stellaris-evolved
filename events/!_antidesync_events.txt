# events\!_antidesync_events.txt

namespace = antidesync_evolved

# scope: country, from: leader
#on_added_to_leader_pool

country_event = {
	id = antidesync_evolved.1
	is_triggered_only = yes
	hide_window = yes

	trigger = {
		always = yes
	}

	immediate = {
		# We sample from the population of the species
		from = {
			creator = {
				random_owned_pop = {
					limit = {
						is_exact_same_species = from
						NOR = {
							has_trait = trait_zombie
							has_trait = trait_nerve_stapled
							has_trait = trait_presapient_proles
							has_trait = trait_syncretic_proles
						}
					}
					save_event_target_as = tec_temp_pop
				}
			}
		}
		from = { # Leader
			save_event_target_as = tec_temp_leader
			# Changes ethic to gestalt to normalize
			change_background_ethic = ethic_gestalt_consciousness
			# Discarded random list (for now)
				#random_list = {	# Nuke all the ethics and reassign them
					# Vanilla
					#10 = {	# AUTH
					#	modifier = {
					#		factor = 11
					#		creator = {
					#			has_ethic = ethic_fanatic_authoritarian
					#		}
					#	}
					#	modifier = {
					#		factor = 6
					#		creator = {
					#			has_ethic = ethic_authoritarian
					#		}
					#	}
					#	modifier = {
					#		factor = 0
					#		creator = {
					#			has_ethic = ethic_gestalt_consciousness
					#		}
					#	}
					#	change_background_ethic = ethic_authoritarian
					#}
					#10 = {	# EGA
					#	modifier = {
					#		factor = 11
					#		creator = {
					#			has_ethic = ethic_fanatic_egalitarian
					#		}
					#	}
					#	modifier = {
					#		factor = 6
					#		creator = {
					#			has_ethic = ethic_egalitarian
					#		}
					#	}
					#	modifier = {
					#		factor = 0
					#		creator = {
					#			has_ethic = ethic_gestalt_consciousness
					#		}
					#	}
					#	change_background_ethic = ethic_egalitarian
					#}
					#10 = {	# PHOBE
					#	modifier = {
					#		factor = 11
					#		creator = {
					#			has_ethic = ethic_fanatic_xenophobe
					#		}
					#	}
					#	modifier = {
					#		factor = 6
					#		creator = {
					#			has_ethic = ethic_xenophobe
					#		}
					#	}
					#	modifier = {
					#		factor = 0
					#		creator = {
					#			has_ethic = ethic_gestalt_consciousness
					#		}
					#	}
					#	change_background_ethic = ethic_xenophobe
					#}
					#10 = {	# PHILE
					#	modifier = {
					#		factor = 11
					#		creator = {
					#			has_ethic = ethic_fanatic_xenophile
					#		}
					#	}
					#	modifier = {
					#		factor = 6
					#		creator = {
					#			has_ethic = ethic_xenophile
					#		}
					#	}
					#	modifier = {
					#		factor = 0
					#		creator = {
					#			has_ethic = ethic_gestalt_consciousness
					#		}
					#	}
					#	change_background_ethic = ethic_xenophile
					#}
					#10 = {	# MIL
					#	modifier = {
					#		factor = 11
					#		creator = {
					#			has_ethic = ethic_fanatic_militarist
					#		}
					#	}
					#	modifier = {
					#		factor = 6
					#		creator = {
					#			has_ethic = ethic_militarist
					#		}
					#	}
					#	modifier = {
					#		factor = 0
					#		creator = {
					#			has_ethic = ethic_gestalt_consciousness
					#		}
					#	}
					#	change_background_ethic = ethic_militarist
					#}
					#10 = {	# PAC
					#	modifier = {
					#		factor = 11
					#		creator = {
					#			has_ethic = ethic_fanatic_pacifist
					#		}
					#	}
					#	modifier = {
					#		factor = 6
					#		creator = {
					#			has_ethic = ethic_pacifist
					#		}
					#	}
					#	modifier = {
					#		factor = 0
					#		creator = {
					#			has_ethic = ethic_gestalt_consciousness
					#		}
					#	}
					#	change_background_ethic = ethic_pacifist
					#}
					#10 = {	# SPI
					#	modifier = {
					#		factor = 11
					#		creator = {
					#			has_ethic = ethic_fanatic_spiritualist
					#		}
					#	}
					#	modifier = {
					#		factor = 6
					#		creator = {
					#			has_ethic = ethic_spiritualist
					#		}
					#	}
					#	modifier = {
					#		factor = 0
					#		creator = {
					#			has_ethic = ethic_gestalt_consciousness
					#		}
					#	}
					#	change_background_ethic = ethic_spiritualist
					#}
					#10 = {	# MAT
					#	modifier = {
					#		factor = 11
					#		creator = {
					#			has_ethic = ethic_fanatic_materialist
					#		}
					#	}
					#	modifier = {
					#		factor = 6
					#		creator = {
					#			has_ethic = ethic_materialist
					#		}
					#	}
					#	modifier = {
					#		factor = 0
					#		creator = {
					#			has_ethic = ethic_gestalt_consciousness
					#		}
					#	}
					#	change_background_ethic = ethic_materialist
					#}
					## Evolved
					#10 = {	# COOP
					#	modifier = {
					#		factor = 11
					#		creator = {
					#			has_ethic = ethic_fanatic_socialism
					#		}
					#	}
					#	modifier = {
					#		factor = 6
					#		creator = {
					#			has_ethic = ethic_socialism
					#		}
					#	}
					#	modifier = {
					#		factor = 0
					#		creator = {
					#			has_ethic = ethic_gestalt_consciousness
					#		}
					#	}
					#	change_background_ethic = ethic_socialism
					#}
					#10 = {	# COMP
					#	modifier = {
					#		factor = 11
					#		creator = {
					#			has_ethic = ethic_fanatic_capitalism
					#		}
					#	}
					#	modifier = {
					#		factor = 6
					#		creator = {
					#			has_ethic = ethic_capitalism
					#		}
					#	}
					#	modifier = {
					#		factor = 0
					#		creator = {
					#			has_ethic = ethic_gestalt_consciousness
					#		}
					#	}
					#	change_background_ethic = ethic_capitalism
					#}
					#10 = {	# ECO
					#	modifier = {
					#		factor = 11
					#		creator = {
					#			has_ethic = ethic_fanatic_green
					#		}
					#	}
					#	modifier = {
					#		factor = 6
					#		creator = {
					#			has_ethic = ethic_green
					#		}
					#	}
					#	modifier = {
					#		factor = 0
					#		creator = {
					#			has_ethic = ethic_gestalt_consciousness
					#		}
					#	}
					#	change_background_ethic = ethic_green
					#}
					#10 = {	# IND
					#	modifier = {
					#		factor = 11
					#		creator = {
					#			has_ethic = ethic_fanatic_industrial
					#		}
					#	}
					#	modifier = {
					#		factor = 6
					#		creator = {
					#			has_ethic = ethic_industrial
					#		}
					#	}
					#	modifier = {
					#		factor = 0
					#		creator = {
					#			has_ethic = ethic_gestalt_consciousness
					#		}
					#	}
					#	change_background_ethic = ethic_industrial
					#}
					#10 = {	# ELI
					#	modifier = {
					#		factor = 11
					#		creator = {
					#			has_ethic = ethic_fanatic_elitist
					#		}
					#	}
					#	modifier = {
					#		factor = 6
					#		creator = {
					#			has_ethic = ethic_elitist
					#		}
					#	}
					#	modifier = {
					#		factor = 0
					#		creator = {
					#			has_ethic = ethic_gestalt_consciousness
					#		}
					#	}
					#	change_background_ethic = ethic_elitist
					#}
					#10 = {	# PLU
					#	modifier = {
					#		factor = 11
					#		creator = {
					#			has_ethic = ethic_fanatic_pluralist
					#		}
					#	}
					#	modifier = {
					#		factor = 6
					#		creator = {
					#			has_ethic = ethic_pluralist
					#		}
					#	}
					#	modifier = {
					#		factor = 0
					#		creator = {
					#			has_ethic = ethic_gestalt_consciousness
					#		}
					#	}
					#	change_background_ethic = ethic_pluralist
					#}
					#10 = {	# PLU
					#	modifier = {
					#		factor = 11
					#		creator = {
					#			has_ethic = ethic_fanatic_pluralist
					#		}
					#	}
					#	modifier = {
					#		factor = 6
					#		creator = {
					#			has_ethic = ethic_pluralist
					#		}
					#	}
					#	modifier = {
					#		factor = 0
					#		creator = {
					#			has_ethic = ethic_gestalt_consciousness
					#		}
					#	}
					#	change_background_ethic = ethic_pluralist
					#}
					## Evolved gestalt
					#10 = {	# EMPATHY
					#	modifier = {
					#		factor = 11
					#		creator = {
					#			has_ethic = ethic_gestalt_empathy
					#		}
					#	}
					#	modifier = {
					#		factor = 0
					#		creator = {
					#			NOT = {
					#				has_ethic = ethic_gestalt_consciousness
					#			}
					#		}
					#	}
					#	change_background_ethic = ethic_gestalt_empathy
					#}
					#10 = {	# APATHY
					#	modifier = {
					#		factor = 11
					#		creator = {
					#			has_ethic = ethic_gestalt_apathy
					#		}
					#	}
					#	modifier = {
					#		factor = 0
					#		creator = {
					#			NOT = {
					#				has_ethic = ethic_gestalt_consciousness
					#			}
					#		}
					#	}
					#	change_background_ethic = ethic_gestalt_apathy
					#}
					#10 = {	# PRESER
					#	modifier = {
					#		factor = 11
					#		creator = {
					#			has_ethic = ethic_gestalt_preservation
					#		}
					#	}
					#	modifier = {
					#		factor = 0
					#		creator = {
					#			NOT = {
					#				has_ethic = ethic_gestalt_consciousness
					#			}
					#		}
					#	}
					#	change_background_ethic = ethic_gestalt_preservation
					#}
					#10 = {	# OVERCO
					#	modifier = {
					#		factor = 11
					#		creator = {
					#			has_ethic = ethic_gestalt_disregard
					#		}
					#	}
					#	modifier = {
					#		factor = 0
					#		creator = {
					#			NOT = {
					#				has_ethic = ethic_gestalt_consciousness
					#			}
					#		}
					#	}
					#	change_background_ethic = ethic_gestalt_disregard
					#}
					#10 = {	# INTRO
					#	modifier = {
					#		factor = 11
					#		creator = {
					#			has_ethic = ethic_gestalt_introspective
					#		}
					#	}
					#	modifier = {
					#		factor = 0
					#		creator = {
					#			NOT = {
					#				has_ethic = ethic_gestalt_consciousness
					#			}
					#		}
					#	}
					#	change_background_ethic = ethic_gestalt_introspective
					#}
					#10 = {	# EXTRO
					#	modifier = {
					#		factor = 11
					#		creator = {
					#			has_ethic = ethic_gestalt_extrospective
					#		}
					#	}
					#	modifier = {
					#		factor = 0
					#		creator = {
					#			NOT = {
					#				has_ethic = ethic_gestalt_consciousness
					#			}
					#		}
					#	}
					#	change_background_ethic = ethic_gestalt_extrospective
					#}
					#10 = {	# GESTALT
					#	# Again? again, just in case
					#	change_background_ethic = ethic_gestalt_consciousness
					#}
				#}
			# /
			# Discarded idea, crying in lack of random/scopes
				# Changes the ethic to that of the pop
				#change_background_ethic = from
					# Note: scoping to the pop doesn't work event_target:tec_temp_pop
			# /
			event_target:tec_temp_pop = {
				switch = {
					trigger = has_ethic
					# Vanilla
					ethic_authoritarian = {
						event_target:tec_temp_leader = {
							change_background_ethic = ethic_authoritarian
						}
					}
					ethic_egalitarian = {
						event_target:tec_temp_leader = {
							change_background_ethic = ethic_egalitarian
						}
					}
					ethic_xenophobe = {
						event_target:tec_temp_leader = {
							change_background_ethic = ethic_xenophobe
						}
					}
					ethic_xenophile = {
						event_target:tec_temp_leader = {
							change_background_ethic = ethic_xenophile
						}
					}
					ethic_militarist = {
						event_target:tec_temp_leader = {
							change_background_ethic = ethic_militarist
						}
					}
					ethic_pacifist = {
						event_target:tec_temp_leader = {
							change_background_ethic = ethic_pacifist
						}
					}
					ethic_spiritualist = {
						event_target:tec_temp_leader = {
							change_background_ethic = ethic_spiritualist
						}
					}
					ethic_materialist = {
						event_target:tec_temp_leader = {
							change_background_ethic = ethic_materialist
						}
					}
					# Evolved
					ethic_socialism = {
						event_target:tec_temp_leader = {
							change_background_ethic = ethic_socialism
						}
					}
					ethic_capitalism = {
						event_target:tec_temp_leader = {
							change_background_ethic = ethic_capitalism
						}
					}
					ethic_green = {
						event_target:tec_temp_leader = {
							change_background_ethic = ethic_green
						}
					}
					ethic_industrial = {
						event_target:tec_temp_leader = {
							change_background_ethic = ethic_industrial
						}
					}
					ethic_elitist = {
						event_target:tec_temp_leader = {
							change_background_ethic = ethic_elitist
						}
					}
					ethic_pluralist = {
						event_target:tec_temp_leader = {
							change_background_ethic = ethic_pluralist
						}
					}
					# Gestalt
					ethic_gestalt_consciousness = {
						event_target:tec_temp_leader = {
							change_background_ethic = ethic_gestalt_consciousness
						}
					}
				}
			}
			# Now that ethics have been changed...
			# Technically this event should trigger before extra traits
			# So lets nuke it
			remove_all_traits = yes
			set_variable = {
				which = var_level
				value = trigger:has_skill
			}
			change_variable = {
				which = var_level
				value = -1
			}
			set_skill = 1
			# Adds a new starting trait
			# (now weighted properly by non ghost ethics)
			add_trait_no_notify = "random_common"
			# Increases the skills equal to the level -1
			if = {
				limit = {
					check_variable = {
						which = var_level
						value > 0
					}
				}
				add_skill_without_trait_selection = var_level
			}
			# Lets clean it
			clear_variable = var_level
		}
	}
}